webpackJsonp([0],{120:function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function a(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var i=t(0),s=t.n(i),u=t(39),c=t(4),l=t(19),p=t(127),f=t(42),h=t(38),b=t(43),A=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),d=Object(b.a)(Object(f.a)(function(){return t.e(2).then(t.bind(null,130))})),m=Object(b.a)(Object(f.a)(function(){return t.e(3).then(t.bind(null,142))})),g=function(e){function n(e){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));x.call(t),window.addEventListener("beforeunload",t.handleBeforeUnload);var a=t.props.user,i=a.userId,s=a.username;return i&&s||t.restoreLoginInfo(),t}return a(n,e),A(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}},{key:"render",value:function(){var e=this.props,n=e.match,t=e.location,r=e.user,o=r&&r.username?r.username:"";return s.a.createElement("div",null,s.a.createElement(p.a,{username:o,onLogout:this.handleLogout,location:t}),s.a.createElement(u.d,{path:n.url,exact:!0,render:function(e){return s.a.createElement(m,e)}}),s.a.createElement(u.d,{path:n.url+"/:id",render:function(e){return s.a.createElement(d,e)}}))}}]),n}(i.Component),x=function(){var e=this;this.restoreLoginInfo=function(){var n=sessionStorage.getItem("userId"),t=sessionStorage.getItem("username");n&&t&&e.props.setLoginInfo(n,t)},this.handleBeforeUnload=function(){var n=e.props.user,t=n.userId,r=n.username;t&&r&&(sessionStorage.setItem("userId",t),sessionStorage.setItem("username",r))},this.handleLogout=function(){e.props.logout()}},E=function(e,n){return{user:Object(h.c)(e)}},v=function(e){return Object.assign({},Object(c.b)(h.a,e))};n.default=Object(l.b)(E,v)(g)},127:function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function a(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var i=t(0),s=t.n(i),u=t(39),c=t(128),l=(t.n(c),function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()),p=function(e){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,e),l(n,[{key:"render",value:function(){var e=this.props,n=e.username,t=e.onLogout,r=e.location;return s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"nav"},s.a.createElement("span",{className:"left-link"},s.a.createElement(u.b,{to:"/"},"\u9996\u9875")),n&&n.length>0?s.a.createElement("span",{className:"user"},"\u5f53\u524d\u7528\u6237\uff1a",n,"\xa0",s.a.createElement("button",{onClick:t},"\u6ce8\u9500")):s.a.createElement("span",{className:"right-link"},s.a.createElement(u.b,{to:{pathname:"/login",state:{from:r}}},"\u767b\u5f55"))))}}]),n}(i.Component);n.a=p},128:function(e,n,t){var r=t(129);"string"===typeof r&&(r=[[e.i,r,""]]);var o={hmr:!1};o.transform=void 0;t(119)(r,o);r.locals&&(e.exports=r.locals)},129:function(e,n,t){n=e.exports=t(118)(!0),n.push([e.i,".header{height:50px;border-top:3px solid #009a61;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1),0 1px rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1),0 1px rgba(0,0,0,.1);background:#fafafa}.header .nav{position:relative;width:900px;margin:0 auto}.header a{color:grey;text-decoration:none}.header a,.header span{line-height:50px}.header .left-link{position:absolute;left:0}.header .right-link,.header .user{position:absolute;right:20px}.header button:hover{cursor:pointer}","",{version:3,sources:["/home/runner/work/react-bbs/react-bbs/src/components/Header/style.css"],names:[],mappings:"AAAA,QACE,YAAa,AACb,6BAA8B,AAC9B,oEAA4E,AACpE,4DAAoE,AAC5E,kBAAoB,CACrB,AAED,aACE,kBAAmB,AACnB,YAAa,AACb,aAAe,CAChB,AAED,UACE,WAAY,AACZ,oBAAsB,CAEvB,AAED,uBAHE,gBAAkB,CAKnB,AAED,mBACE,kBAAmB,AACnB,MAAU,CACX,AAOD,kCAJE,kBAAmB,AACnB,UAAY,CAMb,AAED,qBACE,cAAgB,CACjB",file:"style.css",sourcesContent:[".header {\n  height: 50px;\n  border-top: 3px solid #009a61;\n  -webkit-box-shadow: 0px 2px 10px 0px rgba(0,0,0,0.1), 0 1px rgba(0,0,0,0.1);\n          box-shadow: 0px 2px 10px 0px rgba(0,0,0,0.1), 0 1px rgba(0,0,0,0.1);\n  background: #fafafa;\n}\n\n.header .nav {\n  position: relative;\n  width: 900px;\n  margin: 0 auto;\n}\n\n.header a {\n  color: grey;\n  text-decoration: none;\n  line-height: 50px;\n}\n\n.header span {\n  line-height: 50px;\n}\n\n.header .left-link {\n  position: absolute;\n  left: 0px;\n}\n\n.header .right-link {\n  position: absolute;\n  right: 20px;  \n}\n\n.header .user {\n  position: absolute;\n  right: 20px;  \n}\n\n.header button:hover {\n  cursor: pointer; \n}"],sourceRoot:""}])}});
//# sourceMappingURL=0.f78aa3dc.chunk.js.map