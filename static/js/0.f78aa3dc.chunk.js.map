{"version":3,"sources":["../static/js/0.f78aa3dc.chunk.js","containers/Home/index.js","components/Header/index.js","webpack:///./src/components/Header/style.css?d280","components/Header/style.css"],"names":["webpackJsonp","120","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_router_dom__","__WEBPACK_IMPORTED_MODULE_2_redux__","__WEBPACK_IMPORTED_MODULE_3_react_redux__","__WEBPACK_IMPORTED_MODULE_4__components_Header__","__WEBPACK_IMPORTED_MODULE_5__utils_AsyncComponent__","__WEBPACK_IMPORTED_MODULE_6__redux_modules_auth__","__WEBPACK_IMPORTED_MODULE_7__utils_connectRoute__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","AsyncPost","connectRoute","asyncComponent","AsyncPostList","Home","window","addEventListener","handleBeforeUnload","user","userId","username","restoreLoginInfo","removeEventListener","this","match","location","onLogout","handleLogout","path","url","exact","render","Component","sessionStorage","getItem","setLoginInfo","setItem","logout","mapStateToProps","state","getLoggedUser","mapDispatchToProps","dispatch","bindActionCreators","authActions","connect","127","__WEBPACK_IMPORTED_MODULE_2__style_css__","Header","className","to","onClick","pathname","from","128","exports","content","options","transform","locals","129","push"],"mappings":"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","file":"static/js/0.f78aa3dc.chunk.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 120:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_redux__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Header__ = __webpack_require__(127);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_AsyncComponent__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__redux_modules_auth__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_connectRoute__ = __webpack_require__(43);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AsyncPost=Object(__WEBPACK_IMPORTED_MODULE_7__utils_connectRoute__[\"a\" /* default */])(Object(__WEBPACK_IMPORTED_MODULE_5__utils_AsyncComponent__[\"a\" /* default */])(function(){return __webpack_require__.e/* import() */(2).then(__webpack_require__.bind(null, 130));}));var AsyncPostList=Object(__WEBPACK_IMPORTED_MODULE_7__utils_connectRoute__[\"a\" /* default */])(Object(__WEBPACK_IMPORTED_MODULE_5__utils_AsyncComponent__[\"a\" /* default */])(function(){return __webpack_require__.e/* import() */(3).then(__webpack_require__.bind(null, 142));}));var Home=function(_Component){_inherits(Home,_Component);function Home(props){_classCallCheck(this,Home);var _this=_possibleConstructorReturn(this,(Home.__proto__||Object.getPrototypeOf(Home)).call(this,props));_initialiseProps.call(_this);window.addEventListener(\"beforeunload\",_this.handleBeforeUnload);var _this$props$user=_this.props.user,userId=_this$props$user.userId,username=_this$props$user.username;if(!userId||!username){_this.restoreLoginInfo();}return _this;}_createClass(Home,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"beforeunload\",this.handleBeforeUnload);}},{key:\"render\",value:function render(){var _props=this.props,match=_props.match,location=_props.location,user=_props.user;var username=user&&user.username?user.username:\"\";return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__components_Header__[\"a\" /* default */],{username:username,onLogout:this.handleLogout,location:location}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"d\" /* Route */],{path:match.url,exact:true,render:function render(props){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(AsyncPostList,props);}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"d\" /* Route */],{path:match.url+\"/:id\",render:function render(props){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(AsyncPost,props);}}));}}]);return Home;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var _initialiseProps=function _initialiseProps(){var _this2=this;this.restoreLoginInfo=function(){var userId=sessionStorage.getItem(\"userId\");var username=sessionStorage.getItem(\"username\");if(userId&&username){_this2.props.setLoginInfo(userId,username);}};this.handleBeforeUnload=function(){var _props$user=_this2.props.user,userId=_props$user.userId,username=_props$user.username;if(userId&&username){sessionStorage.setItem(\"userId\",userId);sessionStorage.setItem(\"username\",username);}};this.handleLogout=function(){_this2.props.logout();};};var mapStateToProps=function mapStateToProps(state,props){return{user:Object(__WEBPACK_IMPORTED_MODULE_6__redux_modules_auth__[\"c\" /* getLoggedUser */])(state)};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return Object.assign({},Object(__WEBPACK_IMPORTED_MODULE_2_redux__[\"b\" /* bindActionCreators */])(__WEBPACK_IMPORTED_MODULE_6__redux_modules_auth__[\"a\" /* actions */],dispatch));};/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_3_react_redux__[\"b\" /* connect */])(mapStateToProps,mapDispatchToProps)(Home));\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style_css__ = __webpack_require__(128);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Header=function(_Component){_inherits(Header,_Component);function Header(){_classCallCheck(this,Header);return _possibleConstructorReturn(this,(Header.__proto__||Object.getPrototypeOf(Header)).apply(this,arguments));}_createClass(Header,[{key:\"render\",value:function render(){var _props=this.props,username=_props.username,onLogout=_props.onLogout,location=_props.location;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"header\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"nav\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"span\",{className:\"left-link\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"b\" /* Link */],{to:\"/\"},\"\\u9996\\u9875\")),username&&username.length>0?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"span\",{className:\"user\"},\"\\u5F53\\u524D\\u7528\\u6237\\uFF1A\",username,\"\\xA0\",__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"button\",{onClick:onLogout},\"\\u6CE8\\u9500\")):__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"span\",{className:\"right-link\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"b\" /* Link */],{to:{pathname:\"/login\",state:{from:location}}},\"\\u767B\\u5F55\"))));}}]);return Header;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (Header);\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(129);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(119)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(118)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".header{height:50px;border-top:3px solid #009a61;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1),0 1px rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1),0 1px rgba(0,0,0,.1);background:#fafafa}.header .nav{position:relative;width:900px;margin:0 auto}.header a{color:grey;text-decoration:none}.header a,.header span{line-height:50px}.header .left-link{position:absolute;left:0}.header .right-link,.header .user{position:absolute;right:20px}.header button:hover{cursor:pointer}\", \"\", {\"version\":3,\"sources\":[\"/home/runner/work/react-bbs/react-bbs/src/components/Header/style.css\"],\"names\":[],\"mappings\":\"AAAA,QACE,YAAa,AACb,6BAA8B,AAC9B,oEAA4E,AACpE,4DAAoE,AAC5E,kBAAoB,CACrB,AAED,aACE,kBAAmB,AACnB,YAAa,AACb,aAAe,CAChB,AAED,UACE,WAAY,AACZ,oBAAsB,CAEvB,AAED,uBAHE,gBAAkB,CAKnB,AAED,mBACE,kBAAmB,AACnB,MAAU,CACX,AAOD,kCAJE,kBAAmB,AACnB,UAAY,CAMb,AAED,qBACE,cAAgB,CACjB\",\"file\":\"style.css\",\"sourcesContent\":[\".header {\\n  height: 50px;\\n  border-top: 3px solid #009a61;\\n  -webkit-box-shadow: 0px 2px 10px 0px rgba(0,0,0,0.1), 0 1px rgba(0,0,0,0.1);\\n          box-shadow: 0px 2px 10px 0px rgba(0,0,0,0.1), 0 1px rgba(0,0,0,0.1);\\n  background: #fafafa;\\n}\\n\\n.header .nav {\\n  position: relative;\\n  width: 900px;\\n  margin: 0 auto;\\n}\\n\\n.header a {\\n  color: grey;\\n  text-decoration: none;\\n  line-height: 50px;\\n}\\n\\n.header span {\\n  line-height: 50px;\\n}\\n\\n.header .left-link {\\n  position: absolute;\\n  left: 0px;\\n}\\n\\n.header .right-link {\\n  position: absolute;\\n  right: 20px;  \\n}\\n\\n.header .user {\\n  position: absolute;\\n  right: 20px;  \\n}\\n\\n.header button:hover {\\n  cursor: pointer; \\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.f78aa3dc.chunk.js","import React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport Header from \"../../components/Header\";\nimport asyncComponent from \"../../utils/AsyncComponent\";\nimport { actions as authActions, getLoggedUser } from \"../../redux/modules/auth\";\nimport connectRoute from \"../../utils/connectRoute\";\n\nconst AsyncPost = connectRoute(asyncComponent(() => import(\"../Post\")));\nconst AsyncPostList = connectRoute(asyncComponent(() => import(\"../PostList\")));\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    window.addEventListener(\"beforeunload\", this.handleBeforeUnload);\n    const { userId, username } = this.props.user;\n    if (!userId || !username) {\n      this.restoreLoginInfo();\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"beforeunload\", this.handleBeforeUnload);\n  }\n\n  restoreLoginInfo = () => {\n    const userId = sessionStorage.getItem(\"userId\");\n    const username = sessionStorage.getItem(\"username\");\n    if (userId && username) {\n      this.props.setLoginInfo(userId, username);\n    }\n  };\n\n  handleBeforeUnload = () => {\n    const { userId, username } = this.props.user;\n    if (userId && username) {\n      sessionStorage.setItem(\"userId\", userId);\n      sessionStorage.setItem(\"username\", username);\n    }\n  };\n\n  handleLogout = () => {\n    this.props.logout();\n  };\n\n  render() {\n    const { match, location, user } = this.props;\n    const username = user && user.username ? user.username : \"\";\n    return (\n      <div>\n        <Header\n          username={username}\n          onLogout={this.handleLogout}\n          location={location}\n        />\n        <Route\n          path={match.url}\n          exact\n          render={props => <AsyncPostList {...props} />}\n        />\n        <Route\n          path={`${match.url}/:id`}\n          render={props => <AsyncPost {...props} />}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    user: getLoggedUser(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    ...bindActionCreators(authActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/Home/index.js","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.css\";\n\nclass Header extends Component {\n  render() {\n    const { username, onLogout, location } = this.props;\n    return (\n      <div className=\"header\">\n        <div className=\"nav\">\n          <span className=\"left-link\">\n            <Link to=\"/\">首页</Link>\n          </span>\n          {username && username.length > 0 ? (\n            <span className=\"user\">\n              当前用户：{username}&nbsp;<button onClick={onLogout}>注销</button>\n            </span>\n          ) : (\n            <span className=\"right-link\">\n              <Link to={{ pathname: \"/login\", state: { from: location } }}>\n                登录\n              </Link>\n            </span>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Header;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Header/index.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./style.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Header/style.css\n// module id = 128\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".header{height:50px;border-top:3px solid #009a61;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.1),0 1px rgba(0,0,0,.1);box-shadow:0 2px 10px 0 rgba(0,0,0,.1),0 1px rgba(0,0,0,.1);background:#fafafa}.header .nav{position:relative;width:900px;margin:0 auto}.header a{color:grey;text-decoration:none}.header a,.header span{line-height:50px}.header .left-link{position:absolute;left:0}.header .right-link,.header .user{position:absolute;right:20px}.header button:hover{cursor:pointer}\", \"\", {\"version\":3,\"sources\":[\"/home/runner/work/react-bbs/react-bbs/src/components/Header/style.css\"],\"names\":[],\"mappings\":\"AAAA,QACE,YAAa,AACb,6BAA8B,AAC9B,oEAA4E,AACpE,4DAAoE,AAC5E,kBAAoB,CACrB,AAED,aACE,kBAAmB,AACnB,YAAa,AACb,aAAe,CAChB,AAED,UACE,WAAY,AACZ,oBAAsB,CAEvB,AAED,uBAHE,gBAAkB,CAKnB,AAED,mBACE,kBAAmB,AACnB,MAAU,CACX,AAOD,kCAJE,kBAAmB,AACnB,UAAY,CAMb,AAED,qBACE,cAAgB,CACjB\",\"file\":\"style.css\",\"sourcesContent\":[\".header {\\n  height: 50px;\\n  border-top: 3px solid #009a61;\\n  -webkit-box-shadow: 0px 2px 10px 0px rgba(0,0,0,0.1), 0 1px rgba(0,0,0,0.1);\\n          box-shadow: 0px 2px 10px 0px rgba(0,0,0,0.1), 0 1px rgba(0,0,0,0.1);\\n  background: #fafafa;\\n}\\n\\n.header .nav {\\n  position: relative;\\n  width: 900px;\\n  margin: 0 auto;\\n}\\n\\n.header a {\\n  color: grey;\\n  text-decoration: none;\\n  line-height: 50px;\\n}\\n\\n.header span {\\n  line-height: 50px;\\n}\\n\\n.header .left-link {\\n  position: absolute;\\n  left: 0px;\\n}\\n\\n.header .right-link {\\n  position: absolute;\\n  right: 20px;  \\n}\\n\\n.header .user {\\n  position: absolute;\\n  right: 20px;  \\n}\\n\\n.header button:hover {\\n  cursor: pointer; \\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/Header/style.css\n// module id = 129\n// module chunks = 0"],"sourceRoot":""}